$.fn.productAutocomplete=function(){"use strict";this.select2({minimumInputLength:1,multiple:!0,initSelection:function(t,e){$.get(Spree.routes.product_search,{ids:t.val().split(",")},function(t){e(t.products)})},ajax:{url:Spree.routes.product_search,datatype:"json",data:function(t){return{q:{name_cont:t,sku_cont:t},m:"OR"}},results:function(t){var e=t.products?t.products:[];return{results:e}}},formatResult:function(t){return t.name},formatSelection:function(t){return t.name}})},$(document).ready(function(){$(".product_picker").productAutocomplete()});