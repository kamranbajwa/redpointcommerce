!function(e){"use strict";function t(e,t,o){function n(n,i){s(),e.data("hasActiveHover")||(n?(i&&e.data("forcedOpen",!0),o.showTip(e)):(c.popOpenImminent=!0,a=setTimeout(function(){a=null,r(e)},t.intentPollInterval)))}function i(n){s(),e.data("hasActiveHover")&&(c.popOpenImminent=!1,e.data("forcedOpen",!1),n?o.hideTip(e):a=setTimeout(function(){a=null,o.hideTip(e)},t.closeDelay))}function r(){var i=Math.abs(c.previousX-c.currentX),r=Math.abs(c.previousY-c.currentY),s=i+r;s<t.intentSensitivity?o.showTip(e):(c.previousX=c.currentX,c.previousY=c.currentY,n())}function s(){a=clearTimeout(a)}var a=null;return{show:n,hide:i,cancel:s}}function o(t){function o(e){e.data("hasActiveHover",!0),w.queue(function(t){n(e),t()})}function n(o){if(o.data("hasActiveHover")){if(c.isPopOpen)return c.isClosing||i(c.activeHover),void w.delay(100).queue(function(e){n(o),e()});o.trigger("powerTipPreRender");var r=o.data("powertip"),s=o.data("powertiptarget"),p=o.data("powertipjq"),u=s?e("#"+s):[];if(r)w.html(r);else if(p&&p.length>0)w.empty(),p.clone(!0,!0).appendTo(w);else{if(!(u&&u.length>0))return;w.html(e("#"+s).html())}o.trigger("powerTipRender"),a.on("closePowerTip",function(){o.data("displayController").hide(!0)}),c.activeHover=o,c.isPopOpen=!0,w.data("followMouse",t.followMouse),w.data("mouseOnToPopup",t.mouseOnToPopup),t.followMouse?f():(d(o),c.isFixedPopOpen=!0),w.fadeIn(t.fadeInTime,function(){c.desyncTimeout||(c.desyncTimeout=setInterval(l,500)),o.trigger("powerTipOpen")})}}function i(e){c.isClosing=!0,e.data("hasActiveHover",!1),e.data("forcedOpen",!1),c.activeHover=null,c.isPopOpen=!1,c.desyncTimeout=clearInterval(c.desyncTimeout),a.off("closePowerTip"),w.fadeOut(t.fadeOutTime,function(){c.isClosing=!1,c.isFixedPopOpen=!1,w.removeClass(),h(c.currentX+t.offset,c.currentY+t.offset),e.trigger("powerTipClose")})}function l(){if(c.isPopOpen&&!c.isClosing){var e=!1;c.activeHover.data("hasActiveHover")===!1?e=!0:r(c.activeHover)||c.activeHover.is(":focus")||c.activeHover.data("forcedOpen")||(w.data("mouseOnToPopup")?r(w)||(e=!0):e=!0),e&&i(c.activeHover)}}function f(){if(c.isPopOpen&&!c.isFixedPopOpen||c.popOpenImminent&&!c.isFixedPopOpen&&w.data("hasMouseMove")){var e=p.scrollTop(),o=p.width(),n=p.height(),i=w.outerWidth(),r=w.outerHeight(),s=0,a=0;s=i+c.currentX+t.offset<o?c.currentX+t.offset:o-i,a=r+c.currentY+t.offset<e+n?c.currentY+t.offset:e+n-r,h(s,a)}}function d(o){var n,i,r,a,p=w.outerWidth(),u=w.outerHeight();t.smartPlacement?(n=e.fn.powerTip.smartPlacementLists[t.placement],e.each(n,function(e,t){return i=v(o,t,p,u),r=t,a=s(i,p,u),0===a.length?!1:void 0})):(i=v(o,t.placement,p,u),r=t.placement),w.addClass(r),h(i.x,i.y)}function v(e,o,n,i){var r=e.offset(),s=e.outerWidth(),a=e.outerHeight(),p=0,u=0;switch(o){case"n":p=r.left+s/2-n/2,u=r.top-i-t.offset;break;case"e":p=r.left+s+t.offset,u=r.top+a/2-i/2;break;case"s":p=r.left+s/2-n/2,u=r.top+a+t.offset;break;case"w":p=r.left-n-t.offset,u=r.top+a/2-i/2;break;case"nw":p=r.left-n+20,u=r.top-i-t.offset;break;case"ne":p=r.left+s-20,u=r.top-i-t.offset;break;case"sw":p=r.left-n+20,u=r.top+a+t.offset;break;case"se":p=r.left+s-20,u=r.top+a+t.offset}return{x:Math.round(p),y:Math.round(u)}}function h(e,t){w.css("left",e+"px"),w.css("top",t+"px")}var w=e("#"+t.popupId);return 0===w.length&&(w=e("<div></div>",{id:t.popupId}),0===u.length&&(u=e("body")),u.append(w)),t.followMouse&&(w.data("hasMouseMove")||a.on({mousemove:f,scroll:f}),w.data("hasMouseMove",!0)),(t.followMouse||t.mouseOnToPopup)&&w.on({mouseenter:function(){(w.data("followMouse")||w.data("mouseOnToPopup"))&&c.activeHover&&c.activeHover.data("displayController").cancel()},mouseleave:function(){w.data("mouseOnToPopup")&&c.activeHover&&c.activeHover.data("displayController").hide()}}),{showTip:o,hideTip:i}}function n(){var t=0,o=0;c.mouseTrackingActive||(c.mouseTrackingActive=!0,e(function(){t=a.scrollLeft(),o=a.scrollTop()}),a.on({mousemove:i,scroll:function(){var e=a.scrollLeft(),n=a.scrollTop();e!==t&&(c.currentX+=e-t,t=e),n!==o&&(c.currentY+=n-o,o=n)}}))}function i(e){c.currentX=e.pageX,c.currentY=e.pageY}function r(e){var t=e.offset();return c.currentX>=t.left&&c.currentX<=t.left+e.outerWidth()&&c.currentY>=t.top&&c.currentY<=t.top+e.outerHeight()}function s(e,t,o){var n=p.scrollLeft(),i=p.scrollTop(),r=p.width(),s=p.height(),a=[];return e.y<i&&a.push("top"),e.y+o>i+s&&a.push("bottom"),e.x<n&&a.push("left"),e.x+t>n+r&&a.push("right"),a}var a=e(document),p=e(window),u=e("body"),c={isPopOpen:!1,isFixedPopOpen:!1,isClosing:!1,popOpenImminent:!1,activeHover:null,currentX:0,currentY:0,previousX:0,previousY:0,desyncTimeout:null,mouseTrackingActive:!1};e.fn.powerTip=function(s){if(!this.length)return this;var a=e.extend({},e.fn.powerTip.defaults,s),p=new o(a);return n(),this.each(function(){var o=e(this),n=o.data("powertip"),i=o.data("powertipjq"),r=o.data("powertiptarget"),s=o.attr("title");n||r||i||!s||(o.data("powertip",s),o.removeAttr("title")),o.data("displayController",new t(o,a,p))}),this.on({mouseenter:function(t){i(t),c.previousX=t.pageX,c.previousY=t.pageY,e(this).data("displayController").show()},mouseleave:function(){e(this).data("displayController").hide()},focus:function(){var t=e(this);r(t)||t.data("displayController").show(!0)},blur:function(){e(this).data("displayController").hide(!0)}})},e.fn.powerTip.defaults={fadeInTime:200,fadeOutTime:100,followMouse:!1,popupId:"powerTip",intentSensitivity:7,intentPollInterval:100,closeDelay:100,placement:"n",smartPlacement:!1,offset:10,mouseOnToPopup:!1},e.fn.powerTip.smartPlacementLists={n:["n","ne","nw","s"],e:["e","ne","se","w","nw","sw","n","s","e"],s:["s","se","sw","n"],w:["w","nw","sw","e","ne","se","n","s","w"],nw:["nw","w","sw","n","s","se","nw"],ne:["ne","e","se","n","s","sw","ne"],sw:["sw","w","nw","s","n","ne","sw"],se:["se","e","ne","s","n","nw","se"]},e.powerTip={showTip:function(t){e.powerTip.closeTip(),t=t.first(),r(t)||t.data("displayController").show(!0,!0)},closeTip:function(){a.triggerHandler("closePowerTip")}}}(jQuery);