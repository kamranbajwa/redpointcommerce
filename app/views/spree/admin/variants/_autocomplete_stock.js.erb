<script type='text/template' id='variant_autocomplete_stock_template'>
  <h3 align="form-section"><%= Spree.t(:select_stock) %></h3>
    <table class="table table-bordered table-striped table-condensed flip-content stock-levels" data-hook="stock-levels">
         <colgroup>
          <col style="width: 30%;" />
          <col style="width: 40%;" />
          <col style="width: 20%;" />
          <col style="width: 10%;" />
        </colgroup>
        <thead class="flip-content">
          <th><%= Spree.t(:location) %></th>
          <th><%= Spree.t(:count_on_hand) %></th>
          <th><%= Spree.t(:quantity) %></th>
          <th class="actions"></th>
        </thead>
        <tbody>
        </tbody>
        {{#each variant.stock_items}}
            <tr>
              <td>{{this.stock_location_name}}</td>
              {{#unless ../variant.track_inventory}}
                <td>
                  It doesnt track inventory
                </td>
                <td>
                  <input class="quantity" id="stock_item_quantity" data-stock-location-id="{{this.stock_location_id}}" type="number" min="1" value="1">
                </td>
                <td class="actions">
                  <button class="add_variant no-text fa fa-plus icon_link with-tip" data-stock-location-id="{{this.stock_location_id}}" title="<%= Spree.t(:add) %>" data-action="add"></button>
                </td>
              {{else}}
                {{#if this.available}}
                  <td>
                    {{this.count_on_hand}}
                    {{#if this.backorderable}} (<%= Spree.t(:backorders_allowed) %>) {{/if}}
                  </td>
                  <td>
                    <input class="quantity" id="stock_item_quantity" data-stock-location-id="{{this.stock_location_id}}" type="number" min="1" value="1">
                  </td>
                  <td class="actions">
                    <button class="add_variant no-text fa fa-plus icon_link with-tip" data-stock-location-id="{{this.stock_location_id}}" title="<%= Spree.t(:add) %>" data-action="add"></button>
                  </td>
                {{else}}
                  <td><%= Spree.t(:out_of_stock) %></td>
                  <td>0</td>
                {{/if}}
              {{/unless}}
            </tr>
          {{/each}}
        </table>
</script>
