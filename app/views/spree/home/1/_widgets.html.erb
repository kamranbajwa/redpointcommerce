   <section class="container" style="margin-top:5%" id = "widgets">
      <div class="row">
      <%if recommended_products.length!=0%>
       <div class="col-md-6 widgets-bg">
          <h3 class="text-center">Recommended Deals</h3>
    <div id="myCarousel1" class="carousel slide border_slider" data-ride="carousel">
      <!-- Wrapper for slides -->
      <div class="carousel-inner" role="listbox">
      <%recommended_products.each_with_index do |product,index| %>
      <% url = product_path(product, :taxon_id => @taxon.try(:id)) %>
       <% if index == 0 %>
        <div class="item active">
           <div class="col-md-12">
          <div class="product no-border">
          <%= link_to product_image(product, :itemprop => "image", :class => "img-responsive " ), url, :itemprop => 'url' %>
            
          </div>
          <div class="text-center">
              <h4><%= link_to truncate(product.name, :length => 25), url, :class => 'info', :itemprop => "name", :title => product.name %></h4><%if product.subscription %> (Subscription Product) <% end %>
                <p><%= render :partial => "spree/shared/1/show_price", :locals => { :p=> product} %>
          </p>
            </div>
        </div>
        </div>
        <%else%>
          <div class="item ">
           <div class="col-md-12">
          <div class="product no-border"><%= link_to product_image(product, :itemprop => "image", :class => "img-responsive" ), url, :itemprop => 'url' %>
          </div>
          <div class="text-center">
              <h4><%= link_to truncate(product.name, :length => 25), url, :class => 'info', :itemprop => "name", :title => product.name %></h4><%if product.subscription %> (Subscription Product) <% end %>
                <p><%= render :partial => "spree/shared/1/show_price", :locals => { :p=> product} %>
          </p>
            </div>
        </div>
        </div>
        <%end%>

         <%end%> 
      </div>


      <!-- Left and right controls -->
      <a class="left carousel-control shadow_remove_left" href="#myCarousel1" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="right carousel-control shadow_remove_right" href="#myCarousel1" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div> <!-- #myCarousel end -->
    </div> <!-- end of col-md-6 widgets-bg recumended deal -->
    <%end%>
        <div class="col-md-6 widgets-bg" >
          <h3 class="text-center">Top Selling</h3>
      <div id="myCarousel2" class="carousel slide border_slider" data-ride="carousel">
      <!-- Wrapper for slides -->
      <div class="carousel-inner" role="listbox">
      <%best_selling_products.each_with_index do |product,index| %>
      <% url = product_path(product, :taxon_id => @taxon.try(:id)) %>
       <% if index == 0 %>
        <div class="item active">
            <div class="col-md-12">
          <div class="product no-border">
          <%= link_to product_image(product, :itemprop => "image", :class => "img-responsive " ), url, :itemprop => 'url' %>
            
          </div>
          <div class="text-center">
              <h4><%= link_to truncate(product.name, :length => 25), url, :class => 'info', :itemprop => "name", :title => product.name %></h4><%if product.subscription %> (Subscription Product) <% end %>
                <p><%= render :partial => "spree/shared/1/show_price", :locals => { :p=> product} %>
          </p>
            </div>
        </div>
        </div>
        <%else%>
          <div class="item ">
          <div class="col-md-12">
          <div class="product no-border">
          <%= link_to product_image(product, :itemprop => "image", :class => "img-responsive " ), url, :itemprop => 'url' %>
            
          </div>
          <div class="text-center">
              <h4><%= link_to truncate(product.name, :length => 25), url, :class => 'info', :itemprop => "name", :title => product.name %></h4><%if product.subscription %> (Subscription Product) <% end %>
                <p><%= render :partial => "spree/shared/1/show_price", :locals => { :p=> product} %>
          </p>
            </div>
        </div>
        </div>
        <%end%>

         <%end%> 
      </div>


      <!-- Left and right controls -->
      <a class="left carousel-control shadow_remove_left" href="#myCarousel2" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="right carousel-control shadow_remove_right" href="#myCarousel2" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div> <!-- #myCarousel end -->
          
        </div> <!-- end of best selling -->
      </div>
    </section>